/***************************************************************  Copyright 1996, Eastman Kodak Company	**  All Rights Reserved                           ******************************************************************  FACILITY:**       DITHER.H --- This file is made by 4-htab.****  ABSTRACT:****  AUTHORS:**		Toru Kataoka, Eastman Kodak (Japan) R&D Center ****  CREATION DATE:****		Mar./1/1996****  MODIFICATION HISTORY:****		Mar./26/1996**			This is d1 version.*************************************************************/#ifndef 	__DITHER_H__#define 	__DITHER_H__#ifdef WIN32#ifndef huge#define huge#endif#endif//#define	EqualizeColorPalette#ifdef	EqualizeColorPalette	#define	ColorDepth				6	#define ColorPaletteSize		(ColorDepth*ColorDepth*ColorDepth)#else	#define	RedDepth				7	#define	GreenDepth				7	#define	BlueDepth				4	#define ColorPaletteSize		(RedDepth*GreenDepth*BlueDepth)#endif#define GrayPaletteSize	16#if	(((GrayPaletteSize-1)/255)*255+1)==GrayPaletteSize	#define	GrayCoef1(x)	((x)*((GrayPaletteSize-1)/255))	#define	GrayCoef2(x)	((x)/((GrayPaletteSize-1)/255))#else	#define	GrayCoef1(x)	((x)*(GrayPaletteSize-1)/255)	#define	GrayCoef2(x)	((x)*255/(GrayPaletteSize-1))#endif#define DitheringPaletteSize	(ColorPaletteSize+GrayPaletteSize)class CDither : public CPalette{public:	CDither();	~CDither();	BOOL CreatePalette(CWnd* pWnd);	BOOL MakeDitherImage(LPVOID BMPHeader,LPVOID SourceImage,LPVOID DestnationImage,WORD ImageWidth,WORD ImageHeight);	BOOL MakeDitherThumbnail(LPVOID BMPHeader,LPVOID SourceImage,LPVOID DestnationImage,WORD ImageWidth,WORD ImageHeight);	BOOL		m_PaletteEnable;private:#ifdef	EqualizeColorPalette	const static BYTE	m_ColorTable[ColorDepth];#else	const static BYTE	m_RedTable[RedDepth];	const static BYTE	m_GreenTable[GreenDepth];	const static BYTE	m_BlueTable[BlueDepth];#endif	const static BYTE	m_GrayTable[GrayPaletteSize];	const static short	m_Filter[6];	BOOL SetColorIndex(BYTE huge* DstPtr);};#endif // __DITHER_H__