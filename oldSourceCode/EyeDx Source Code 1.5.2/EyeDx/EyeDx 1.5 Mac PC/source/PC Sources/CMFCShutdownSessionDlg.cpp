// main.cp#include "main.h"BEGIN_MESSAGE_MAP( CMFCShutdownSessionDlg, CDialog )ON_NOTIFY_EX(TTN_NEEDTEXT, 0, OnToolTipText)END_MESSAGE_MAP()CEyeDxBooleanType CMFCShutdownSessionDlg::OnToolTipText(UINT, NMHDR* pNMHDR, LRESULT*){	TOOLTIPTEXT *pTTT = (TOOLTIPTEXT *) pNMHDR;	if (!(pTTT->uFlags & TTF_IDISHWND))	// the ID must be a handle to a window		return FALSE;			UINT uID = pNMHDR->idFrom;	uID = ::GetDlgCtrlID((HWND)uID);			CString strTipText;		// Attempt to load a ToolTip string that corresponds to the control's ID		if(!strTipText.LoadString(uID))		return FALSE;		// Stuff text into the ToolTip, 80 characters maximum		strncpy(pTTT->lpszText, strTipText, 80);	return TRUE;}CEyeDxBooleanType CMFCShutdownSessionDlg::OnInitDialog(){	CDialog::OnInitDialog();	CenterWindow();			EnableToolTips(TRUE);	m_ctlSessionCaption = (CStatic*) (GetDlgItem(IDC_SHUTDOWN_SESSION_CAPTION));	CString thePrompt;	thePrompt.Format("The current session is '%s'. Do you want to end this session, or remember it for use next time?", *m_SessionName);					m_ctlSessionCaption->SetWindowText(thePrompt);		return TRUE;}